/*
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

:host {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
}

#drawer {
  position: absolute;
  top: 0;
  left: 0;
  /* FIXME(ffu): remove hard-coded drawer panel width */
  width: 256px;
  height: 100%;
  box-sizing: border-box;
  -mox-box-sizing: border-box;
  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s;
  transition: transform ease-in-out 0.3s, width ease-in-out 0.3s;
}

/*
right-drawer: make drawer on the right side
*/
:host(.right-drawer) #drawer {
  left: auto;
  right: 0;
  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s;
  transition: transform ease-in-out 0.3s, width ease-in-out 0.3s;
}

/*@polyfill :host [drawer] */
::content[select="[drawer]"] > * {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
}

#main {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 256px;
  overflow: auto;
  transition: left ease-in-out 0.3s, padding ease-in-out 0.3s;
}

:host(.right-drawer) #main {
  left: 0;
  right: 256px;
  transition: right ease-in-out 0.3s, padding ease-in-out 0.3s;
}

#scrim {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.3);
  visibility: hidden;
  opacity: 0;
  transition: opacity ease-in-out 0.38s, visibility ease-in-out 0.38s;
}

/* 
main-center-margin: helper class to center the main panel and also 
have some margin around it 
*/
:host(.main-center-margin) #main {
  padding: 20px;
}

/*@polyfill :host(.main-center-margin) [main] */
:host(.main-center-margin) ::content[select="[main]"] > * {
  margin: 0 auto;
}

/*
no-peek: helper class to make drawer panel 100% width in narrow layout
*/
:host(.no-peek) .narrow-layout > #drawer {
  width: 100%;
}

:host(.no-peek) .narrow-layout > #drawer:not(.core-selected) {
  left: -100%;
}

:host(.no-peek.right-drawer) .narrow-layout > #drawer:not(.core-selected) {
  left: auto;
  right: -100%;
}

/*
narrow layout
*/
.narrow-layout > #drawer.core-selected {
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);
}

/*@polyfill :host .narrow-layout > #drawer > [drawer] */
.narrow-layout > #drawer > ::content[select="[drawer]"] > * {
  border: 0;
}

.narrow-layout > #drawer:not(.core-selected) {
  -webkit-transform: translate3d(-256px, 0, 0);
  transform: translate3d(-256px, 0, 0);
}

:host(.right-drawer) .narrow-layout > #drawer:not(.core-selected) {
  left: auto;
  -webkit-transform: translate3d(256px, 0, 0);
  transform: translate3d(256px, 0, 0);
}

.narrow-layout > #main {
  left: 0;
  padding: 0;
}

:host(.right-drawer) .narrow-layout > #main {
  left: 0;
  right: 0;
  padding: 0;
}

.narrow-layout > #main:not(.core-selected) #scrim {
  visibility: visible;
  opacity: 1;
}

/*@polyfill :host .narrow-layout > #main > [main] */
.narrow-layout > #main > ::content[select="[main]"] > * {
  margin: 0;
  min-height: 100%;
  left: 0;
  right: 0;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
}
